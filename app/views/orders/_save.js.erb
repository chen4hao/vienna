<!--將先前存在的 errors 訊息刪除-->
$("ul.errors").html("");

<!--如果有任何的錯誤訊息，就印出來 -->
<% if @cart_item.errors.any? %>
  <% @cart_item.errors.full_messages.each do |message| %>
    $("#errors").append($("<li />").html("<%= message.html_safe %>"));
  <% end %>
<% else %>

  <!-- 從 actionName 判斷執行什麼 -->
  <% if actionName == 'add_room' %>
    <!--在 table 的最後一行 插入 product 的資料 會 render _product.html.erb -->
    $('#rooms_table').append("<%= j render 'cartitem', item: @cart_item, kind: 'Room' %>")
  <% elsif actionName == 'add_service' %>
    <!--在 table 的最後一行 插入 product 的資料 會 render _product.html.erb -->
    $('#services_table').append("<%= j render 'cartitem', item: @cart_item, kind: 'Service' %>")

  <% else %>

  <% end %>

<% end %>
